<div class="sl-loading" *ngIf="isLoading; else body">
  <app-loading></app-loading>
</div>
<ng-template #body>
  <div class="sl-container" #wrapper>
      <div class="sl-wrapper">
        <div class="sl">
          <div class="sl-item" *ngFor="let book of books" routerLink="/book/{{ book.id }}">
            <img class="book-image" src="{{ book.image_url }}" />
            <div class="book-title">{{ book.title }}</div>
            <div class="book-author">{{ book.authors }}</div>
          </div>
        </div>
      </div>
      <div class="sl-pages">
        <div class="sl-pages-wrapper">
          <div *ngIf="page!==1">
              <div class="sl-pages-item page-back" (click)="handlePrev($event)">Prev</div>
          </div>
          <div class="sl-pages-item page" *ngFor="let i of pageBefore" (click)="handlePageChange($event)" [ngClass]="{'selected': i === page}">{{i}}</div>
          <div class="sl-pages-item page">...</div>
          <div class="sl-pages-item page" *ngFor="let i of pageMiddle" (click)="handlePageChange($event)" [ngClass]="{'selected': i === page}">{{i}}</div>
          <div class="sl-pages-item page">...</div>
          <div class="sl-pages-item page" *ngFor="let i of pageAfter" (click)="handlePageChange($event)" [ngClass]="{'selected': i === page}">{{i}}</div>
          <div *ngIf="page!==totalPages">
              <div class="sl-pages-item page-next" (click)="handleNext($event)">Next</div>
          </div>
        </div>
      </div>
    </div>
</ng-template>